{"version":3,"sources":["webpack:///./src/views/About.vue?4cbd","webpack:///./src/components/preview.vue?f89c","webpack:///./src/components/preview.vue","webpack:///./src/components/preview.vue?1c9f","webpack:///./src/views/About.vue","webpack:///./src/views/About.vue?aa81"],"names":["ref","class","onmousewheel","_createElementBlock","_hoisted_1","$x2js","x2js","window","mxLoadResources","mxGraph","mxGraphModel","mxEditor","mxGeometry","mxDefaultKeyHandler","mxDefaultPopupMenu","mxStylesheet","mxDefaultToolbar","name","mounted","this","init","preview","props","jsonStr","type","String","default","watch","newVal","oldVal","data","graph","methods","document","oncontextmenu","Function","JSonStr","selectAll","removeCells","getSelectionCells","transTarget","jsonObj","JSON","parse","root","mxCell","unshift","graphXml","js2xml","xmlDocument","mxUtils","parseXml","node","documentElement","decoder","mxCodec","container","$refs","centerZoom","setTooltips","setEnabled","panningHandler","useLeftButtonForPanning","ignoreCell","style","cursor","setPanning","resizeContainer","EdgeStyle","getStylesheet","getDefaultEdgeStyle","mxConstants","STYLE_EDGE","mxEdgeStyle","TopToBottom","STYLE_STROKEWIDTH","STYLE_ROUNDED","decode","getModel","zoomActual","fit","zoomTo","center","__exports__","render","Jstr","update","value","empty"],"mappings":"uGAAA,W,kFCAA,W,kECEMA,IAAI,YACJC,MAAM,kBACNC,aAAa,iB,wDAHjBC,gCAIS,MAJTC,EAIS,U,qCAKX,MAAMC,EAAQ,IAAIC,IA4BlBC,OAAOC,gBAAkBA,qBAEzBD,OAAOE,QAAUA,aACjBF,OAAOG,aAAeA,kBACtBH,OAAOI,SAAWA,cAClBJ,OAAOK,WAAaA,gBACpBL,OAAOM,oBAAsBA,yBAC7BN,OAAOO,mBAAqBA,wBAC5BP,OAAOQ,aAAeA,kBACtBR,OAAOS,iBAAmBA,sBAEX,OACbC,KAAM,UACNC,UACEC,KAAKC,OACLD,KAAKE,WAEPC,MAAM,CACJC,QAAQ,CACNC,KAAKC,OACLC,QAAQ,KAGZC,MAAM,CACJJ,QAAQK,EAAOC,GACbV,KAAKE,YAGTS,OACE,MAAO,CACLC,MAAO,OAGXC,QAAS,CACPZ,OACEa,SAASC,cAAgB,IAAIC,SAAS,4BAExCd,UACE,IAAIe,EAAUjB,KAAKI,QACnB,IAAIa,EAAQ,CACV,GAAGjB,KAAKY,MAAM,CACZ,IAAIA,EAAQZ,KAAKY,MACjBA,EAAMM,YACNN,EAAMO,YAAYP,EAAMQ,qBAE1B,OAEF,IACIC,EADAC,EAAUC,KAAKC,MAAMP,GAEtBK,EAAQ/B,cAAc+B,EAAQ/B,aAAakC,MAE5CJ,EAAcC,EACdD,EAAY9B,aAAakC,KAAKC,OAAOC,QACnC,CAAC,IAAO,KACR,CAAC,IAAO,IAAI,QAAU,OAGxBN,EAAc,CACZ9B,aAAa,CACXkC,KAAK,CACHC,OAAO,CACL,CAAC,IAAO,KACR,CAAC,IAAO,IAAI,QAAU,QACnBJ,MAMb,MAAMM,EAAW1C,EAAM2C,OAAOR,GAE9B,IAAIS,EAAcC,aAAQC,SAASJ,GAE/BK,EAAOH,EAAYI,gBACnBC,EAAU,IAAIC,aAAQN,GAE1B,IAAIO,EAAYrC,KAAKsC,MAAMD,UACvBrC,KAAKY,QACPZ,KAAKY,MAAQ,IAAItB,aAAQ+C,IAE3B,IAAIzB,EAAQZ,KAAKY,MAEjBA,EAAM2B,YAAa,EACnB3B,EAAM4B,aAAY,GAClB5B,EAAM6B,YAAW,GACjB7B,EAAM8B,eAAeC,yBAA0B,EAC/C/B,EAAM8B,eAAeE,YAAa,EAClChC,EAAMyB,UAAUQ,MAAMC,OAAS,OAC/BlC,EAAMmC,YAAW,GACjBnC,EAAMoC,iBAAkB,EACxB,IAAIC,EAAYrC,EAAMsC,gBAAgBC,sBACtCF,EAAUG,iBAAYC,YAAcC,iBAAYC,YAChDN,EAAUG,iBAAYI,mBAAqB,EAC3CP,EAAUG,iBAAYK,eAAiB,EACvCtB,EAAQuB,OAAOzB,EAAMrB,EAAM+C,YAC3B/C,EAAMgD,aACNhD,EAAMiD,MACNjD,EAAMkD,OAAO,IACblD,EAAMmD,Y,iCCjIZ,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,Q,yXCOf,IAAIC,EAAOrF,iBAAK,khHAIhB,MAAMsF,EAASA,KACbD,EAAKE,MAAS,m7EAIVC,EAAQA,KACZH,EAAKE,MAAS,I,ibCpBhB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD","file":"js/about.70543272.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./About.vue?vue&type=style&index=0&id=3b4b9a13&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./preview.vue?vue&type=style&index=0&id=12815bd7&lang=scss\"","<template>\n  <div\n      ref=\"container\"\n      class=\"graph_container\"\n      onmousewheel=\"return false;\"\n    ></div>\n</template>\n\n<script >\nimport x2js from 'x2js'\nconst $x2js = new x2js(); \nimport {\n  mxGraph,\n  mxEditor,\n  mxRubberband,\n  mxConstants,\n  mxEvent,\n  mxGraphHandler,\n  mxEdgeStyle,\n  mxCellTracker,\n  mxUtils,\n  mxRectangle,\n  mxConnectionHandler,\n  mxImage,\n  mxCodec,\n\n  mxGraphModel,\n  mxGeometry,\n  mxDefaultKeyHandler,\n  mxDefaultPopupMenu,\n  mxStylesheet,\n  mxDefaultToolbar,\n  mxXmlRequest,\n  mxSvgCanvas2D,\n  mxImageExport,\n  mxXmlCanvas2D,\n  mxLoadResources\n} from \"mxgraph-js\";\nwindow.mxLoadResources = mxLoadResources;\n\nwindow.mxGraph = mxGraph;\nwindow.mxGraphModel = mxGraphModel;\nwindow.mxEditor = mxEditor;\nwindow.mxGeometry = mxGeometry;\nwindow.mxDefaultKeyHandler = mxDefaultKeyHandler;\nwindow.mxDefaultPopupMenu = mxDefaultPopupMenu;\nwindow.mxStylesheet = mxStylesheet;\nwindow.mxDefaultToolbar = mxDefaultToolbar;\n\nexport default {\n  name: \"preview\",\n  mounted() {\n    this.init();\n    this.preview();\n  },\n  props:{\n    jsonStr:{\n      type:String,\n      default:'',\n    }\n  },\n  watch:{\n    jsonStr(newVal,oldVal){\n      this.preview()\n    },\n  },\n  data() {\n    return {\n      graph: null,\n    };\n  },\n  methods: {\n    init(){\n      document.oncontextmenu = new Function(\"event.returnValue=false\");\n    },\n    preview(){\n      let JSonStr = this.jsonStr;\n      if(!JSonStr){\n        if(this.graph){\n          let graph = this.graph;\n          graph.selectAll();\n          graph.removeCells(graph.getSelectionCells());\n        }\n        return;\n      }\n      let jsonObj = JSON.parse(JSonStr);\n      let transTarget;\n      if(jsonObj.mxGraphModel&&jsonObj.mxGraphModel.root){\n        \n        transTarget = jsonObj;\n        transTarget.mxGraphModel.root.mxCell.unshift(\n          {\"_id\": \"0\"},\n          {\"_id\": \"1\",\"_parent\":\"0\"},\n        )\n      }else{\n        transTarget = {\n          mxGraphModel:{\n            root:{\n              mxCell:[\n                {\"_id\": \"0\"},\n                {\"_id\": \"1\",\"_parent\":\"0\"},\n                ...jsonObj\n              ]\n            }\n          }\n        };\n      }\n      const graphXml = $x2js.js2xml(transTarget);\n      // console.log(graphXml);\n      var xmlDocument = mxUtils.parseXml(graphXml);\n      // console.log(xmlDocument)\n      var node = xmlDocument.documentElement;\n      var decoder = new mxCodec(xmlDocument);\n      // console.log(decoder)\n      let container = this.$refs.container;\n      if(!this.graph){\n        this.graph = new mxGraph(container);\n      }\n      var graph = this.graph;\n      // console.log(graph)\n      graph.centerZoom = false;\n      graph.setTooltips(false);\n      graph.setEnabled(false);\n      graph.panningHandler.useLeftButtonForPanning = true;\n      graph.panningHandler.ignoreCell = true;\n      graph.container.style.cursor = 'move';\n      graph.setPanning(true);\n      graph.resizeContainer = false;\n      let EdgeStyle = graph.getStylesheet().getDefaultEdgeStyle();\n      EdgeStyle[mxConstants.STYLE_EDGE] = mxEdgeStyle.TopToBottom;\n      EdgeStyle[mxConstants.STYLE_STROKEWIDTH] = 2; \n      EdgeStyle[mxConstants.STYLE_ROUNDED] = 1; \n      decoder.decode(node, graph.getModel());\n      graph.zoomActual();\n      graph.fit();\n      graph.zoomTo(0.8)\n      graph.center();\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n.graph_container{\n  // margin-top: 60px;\n  width:100%;\n  height:100%;\n  min-width:200px;\n  min-height:200px;\n  background: url('../assets/bg.gif');\n  overflow: hidden;\n  ::v-deep .common {\n    border: 1px solid red;\n  }\n}\n</style>\n","import { render } from \"./preview.vue?vue&type=template&id=12815bd7\"\nimport script from \"./preview.vue?vue&type=script&lang=js\"\nexport * from \"./preview.vue?vue&type=script&lang=js\"\n\nimport \"./preview.vue?vue&type=style&index=0&id=12815bd7&lang=scss\"\n\nimport exportComponent from \"D:\\\\mygitee\\\\vue-easy-dragflow\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"about\">\n    <h1>This is an preview page</h1>\n  </div>\n  <div style=\"width:500px;height:400px;margin:0 auto;\">\n    <preview :jsonStr=\"Jstr\"></preview>\n  </div>\n  <br/>\n  <div>\n    <span class=\"btn\" @click=\"update\">更新preview</span>\n    <span class=\"btn\" @click=\"empty\">空值preview</span>\n  </div>\n</template>\n<script setup>\nimport {ref} from 'vue'\nimport preview from '../components/preview.vue'\nlet Jstr = ref(`\n{\"mxGraphModel\":{\"root\":{\"mxCell\":[{\"_id\":\"0\"},{\"_id\":\"1\",\"_parent\":\"0\"},{\"mxGeometry\":{\"_x\":\"630\",\"_y\":\"210\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"start-1\",\"_value\":\"开始\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(52, 73, 93, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_parent\":\"1\",\"_vertex\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_x\":\"540\",\"_y\":\"377\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"5\",\"_value\":\"node\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(58, 184, 130, 1);fontColor=rgba(255, 255, 255, 1);strokeColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_parent\":\"1\",\"_vertex\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"4\",\"_value\":\"\",\"_parent\":\"1\",\"_source\":\"start-1\",\"_target\":\"5\",\"_edge\":\"1\"},{\"mxGeometry\":{\"_x\":\"540\",\"_y\":\"377\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"5\",\"_value\":\"node\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(58, 184, 130, 1);fontColor=rgba(255, 255, 255, 1);strokeColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_parent\":\"1\",\"_vertex\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"6\",\"_value\":\"\",\"_parent\":\"1\",\"_source\":\"start-1\",\"_target\":\"5\",\"_edge\":\"1\"},{\"mxGeometry\":{\"_x\":\"658\",\"_y\":\"480\",\"_width\":\"80\",\"_height\":\"80\",\"_as\":\"geometry\"},\"_id\":\"judgment-1\",\"_value\":\"judgment\",\"_style\":\"shape=rhombus;margin_left=10;perimeter=ellipsePerimeter;fillColor=rgba(252, 183, 56, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_parent\":\"1\",\"_vertex\":\"1\",\"_title\":\"<div style='word-break:break-all'>rhombus</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"8\",\"_value\":\"\",\"_parent\":\"1\",\"_source\":\"5\",\"_target\":\"judgment-1\",\"_edge\":\"1\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"9\",\"_value\":\"\",\"_parent\":\"1\",\"_source\":\"5\",\"_target\":\"judgment-1\",\"_edge\":\"1\"},{\"mxGeometry\":{\"_x\":\"658\",\"_y\":\"636\",\"_width\":\"80\",\"_height\":\"80\",\"_as\":\"geometry\"},\"_id\":\"end-1\",\"_value\":\"结束\",\"_style\":\"shape=ellipse;margin_left=10;perimeter=ellipsePerimeter;fillColor=rgba(218, 89, 97, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_parent\":\"1\",\"_vertex\":\"1\",\"_title\":\"<div style='word-break:break-all'>circle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"11\",\"_value\":\"\",\"_parent\":\"1\",\"_source\":\"judgment-1\",\"_target\":\"end-1\",\"_edge\":\"1\"},{\"mxGeometry\":{\"_x\":\"730\",\"_y\":\"377\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"node-1\",\"_value\":\"node\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(58, 184, 130, 1);fontColor=rgba(255, 255, 255, 1);strokeColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_vertex\":\"1\",\"_parent\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"13\",\"_value\":\"\",\"_edge\":\"1\",\"_parent\":\"1\",\"_source\":\"start-1\",\"_target\":\"node-1\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"14\",\"_value\":\"\",\"_edge\":\"1\",\"_parent\":\"1\",\"_source\":\"node-1\",\"_target\":\"judgment-1\"}]}}}\n`);\n\nconst update = ()=>{\n  Jstr.value = `\n{\"mxGraphModel\":{\"root\":{\"mxCell\":[{\"_id\":\"0\"},{\"_id\":\"1\",\"_parent\":\"0\"},{\"mxGeometry\":{\"_x\":\"410\",\"_y\":\"100\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"start-034280DD67E6F1B0C63706CB3E6E0453\",\"_value\":\"开始\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(52, 73, 93, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_vertex\":\"1\",\"_parent\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_x\":\"410\",\"_y\":\"200\",\"_width\":\"120\",\"_height\":\"40\",\"_as\":\"geometry\"},\"_id\":\"node-F81929CB7A5DD96ED04155C843415CCD\",\"_value\":\"node\",\"_style\":\"margin_left=10;shape=rectangle;perimeter=ellipsePerimeter;arcSize=20;fillColor=rgba(58, 184, 130, 1);fontColor=rgba(255, 255, 255, 1);strokeColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_vertex\":\"1\",\"_parent\":\"1\",\"_title\":\"<div style='word-break:break-all'>rectangle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_x\":\"430\",\"_y\":\"280\",\"_width\":\"80\",\"_height\":\"80\",\"_as\":\"geometry\"},\"_id\":\"judgment-93A54B93F8FC7895856ECF12D92BD582\",\"_value\":\"judgment\",\"_style\":\"shape=rhombus;margin_left=10;perimeter=ellipsePerimeter;fillColor=rgba(252, 183, 56, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_vertex\":\"1\",\"_parent\":\"1\",\"_title\":\"<div style='word-break:break-all'>rhombus</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_x\":\"430\",\"_y\":\"390\",\"_width\":\"80\",\"_height\":\"80\",\"_as\":\"geometry\"},\"_id\":\"end-6B821137D6EEC5CC1A9E7DF3852AA467\",\"_value\":\"结束\",\"_style\":\"shape=ellipse;margin_left=10;perimeter=ellipsePerimeter;fillColor=rgba(218, 89, 97, 1);fontColor=rgba(255, 255, 255, 1);fontSize=14;whiteSpace=wrap;word-break=break-all\",\"_vertex\":\"1\",\"_parent\":\"1\",\"_title\":\"<div style='word-break:break-all'>circle</div>\",\"_isGroup\":\"0\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"6\",\"_value\":\"\",\"_edge\":\"1\",\"_parent\":\"1\",\"_source\":\"start-034280DD67E6F1B0C63706CB3E6E0453\",\"_target\":\"node-F81929CB7A5DD96ED04155C843415CCD\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"7\",\"_value\":\"\",\"_edge\":\"1\",\"_parent\":\"1\",\"_source\":\"node-F81929CB7A5DD96ED04155C843415CCD\",\"_target\":\"judgment-93A54B93F8FC7895856ECF12D92BD582\"},{\"mxGeometry\":{\"_relative\":\"1\",\"_as\":\"geometry\"},\"_id\":\"8\",\"_value\":\"\",\"_edge\":\"1\",\"_parent\":\"1\",\"_source\":\"judgment-93A54B93F8FC7895856ECF12D92BD582\",\"_target\":\"end-6B821137D6EEC5CC1A9E7DF3852AA467\"}]}}}  \n`;\n}\nconst empty = ()=>{\n  Jstr.value = ``;\n}\n\n</script>\n<style scoped>\n.btn{\n  padding:5px 10px;\n  cursor:pointer;\n  color:#fff;\n  background-color:#42b983;\n  border-radius:5px;\n  margin:0px 10px;\n}\n</style>\n","import script from \"./About.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./About.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./About.vue?vue&type=style&index=0&id=3b4b9a13&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mygitee\\\\vue-easy-dragflow\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3b4b9a13\"]])\n\nexport default __exports__"],"sourceRoot":""}